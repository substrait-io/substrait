name: "dialect test file for functions"

dependencies:
  arithmetic: extension:io.substrait:functions_arithmetic
  boolean: extension:io.substrait:functions_boolean
  comparison: extension:io.substrait:functions_comparison
  string: extension:io.substrait:functions_string

scalar_functions:
- source: arithmetic
  name: add
  system_name: +
  system_notation: INFIX
  required_options:
    overflow: ERROR
  supported_impls:
    - i32_i32
    - i64_i64
- source: arithmetic
  name: add
  system_name: +
  system_notation: INFIX
  required_options:
    overflow: ERROR
    rounding: TIE_TO_EVEN
  supported_impls:
  - fp32_fp32
  - fp64_fp64
- source: boolean
  name: and
  system_name: and
  system_notation: INFIX
  supported_impls:
  - bool
- source: comparison
  name: is_null
  system_name: IS NULL
  system_notation: POSTFIX
  supported_impls:
  - any
- source: string
  name: concat
  system_name: '||'
  required_options:
    null_handling: ACCEPT_NULLS
  system_notation: INFIX
  supported_impls:
  - vchar
  - str
  variadic:
    min: 1
    max: 5

aggregate_functions:
- source: arithmetic
  name: max
  supported_impls:
    - i32
    - i64
- source: arithmetic
  name: min
  supported_impls:
    - i32
    - i64

window_functions:
- source: arithmetic
  name: ntile
  supported_impls:
    - i32
- source: arithmetic
  name: rank
  supported_impls:
    - ""
